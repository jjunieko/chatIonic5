<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-title>Perfil Usuário</ion-title>
        <ion-button slot="end" (click)="abrirModalPerfil()">
            <ion-icon name="add-circle-outline"></ion-icon>
        </ion-button>
        <ion-button slot="start" [routerLink]="['/chat']" routerLinkActive="router-link-active">
            <ion-icon name="close"></ion-icon>
        </ion-button>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="medium">Perfil Usuário</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-list>
        <ion-item *ngFor="let PerfilPront of perfilUser; let id = index">
            <ion-avatar slot="start">
                <img src="http://lorempixel.com/150/100/food/" />
            </ion-avatar>
            <ion-label>
                <h2>{{PerfilPront.nome}}</h2>
                <ion-text color="medium">
                    <h3>{{PerfilPront.tipo}}</h3>
                </ion-text>
                <p>{{PerfilPront.descricao}}</p>
            </ion-label>

            <ion-button slot="end" color="secondary" (click)="editarPerfilUser(id)">
                <ion-icon name="pencil-outline"></ion-icon>
            </ion-button>
            <ion-button slot="end" color="danger" (click)="actionSheetDelete(id)">
                <ion-icon name="trash-outline"></ion-icon>
            </ion-button>
        </ion-item>
    </ion-list>

    <br />
    <ion-list>
        <a href="https://registrar.prescricao.online/">
            <ion-button placeholder="Iniciar Receituário">
                Iniciar Receituário
            </ion-button>
        </a>
    </ion-list>

    <ion-list>
        <ion-button (click)=" uploadFile()" expand="block" fill="clear" shape="round">
            upload File
        </ion-button>
        <ion-label><b>{{uploadText}}</b></ion-label><br />
        <ion-button (click)="abortUpload()" expand="block" fill="clear" shape="round">
            Cancelar Upload
        </ion-button>
        <br /><br />
        <ion-button (click)=" downloadFile()" expand="block" fill="clear" shape="round">
            Download File
        </ion-button>
        <ion-label><b>{{downloadText}}</b></ion-label><br />
        <ion-button (click)="abortDownload()" expand="block" fill="clear" shape="round">
            Cancelar Download
        </ion-button>
    </ion-list>

    <ion-list>
        <ion-item>
            <ion-label>Progesso upload{{ uploadPercent | async}} %</ion-label>
        </ion-item>
        <ion-item>
            <ion-label>Url Download {{ downloadUrl | async}}</ion-label>
        </ion-item>
        <ion-button slot="end" (click)="openGalery()" expand="block" fill="clear">
            <ion-icon slot="icon-only" name="cloud-upload-outline"></ion-icon>
        </ion-button>
        <img [src]="downloadUrl | async" *ngIf="downloadUrl | async" />
    </ion-list>

    <ion-list>
        <ion-button (click)="openLocalPDF()" expand="block" fill="clear">
            <ion-icon slot="icon-only" name="folder-open-outline"></ion-icon>
        </ion-button>
        <ion-button (click)="downloadPDf()" expand="block" fill="clear">
            <ion-icon slot="icon-only" name="document-attach-outline"></ion-icon>
        </ion-button>
    </ion-list>

    <ion-list>
        <input type="file" (change)="atualizaArquivo($event)" />
        <button ion-button (click)="enviarArquivo()">Enviar</button>
    </ion-list>
</ion-content>

<ion-footer>
    <ion-toolbar>
        <ion-title> Dentech</ion-title>
        <p>Endereço da empresa</p>
        <p>telefone:</p>
    </ion-toolbar>
</ion-footer>